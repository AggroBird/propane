#include "operations.hpp"
#include "errors.hpp"

namespace propane
{
	subcode operations::set(type_idx lhs, type_idx rhs)
	{
		const index_t lookup = ((index_t)lhs << 4) | ((index_t)rhs);
		switch (lookup)
		{
			case 0: return subcode(0);
			case 17: return subcode(1);
			case 32: return subcode(2);
			case 33: return subcode(3);
			case 34: return subcode(4);
			case 49: return subcode(5);
			case 51: return subcode(6);
			case 64: return subcode(7);
			case 65: return subcode(8);
			case 66: return subcode(9);
			case 67: return subcode(10);
			case 68: return subcode(11);
			case 81: return subcode(12);
			case 83: return subcode(13);
			case 85: return subcode(14);
			case 96: return subcode(15);
			case 97: return subcode(16);
			case 98: return subcode(17);
			case 99: return subcode(18);
			case 100: return subcode(19);
			case 101: return subcode(20);
			case 102: return subcode(21);
			case 113: return subcode(22);
			case 115: return subcode(23);
			case 117: return subcode(24);
			case 119: return subcode(25);
			case 128: return subcode(26);
			case 129: return subcode(27);
			case 130: return subcode(28);
			case 131: return subcode(29);
			case 132: return subcode(30);
			case 133: return subcode(31);
			case 134: return subcode(32);
			case 135: return subcode(33);
			case 136: return subcode(34);
			case 144: return subcode(35);
			case 145: return subcode(36);
			case 146: return subcode(37);
			case 147: return subcode(38);
			case 148: return subcode(39);
			case 149: return subcode(40);
			case 150: return subcode(41);
			case 151: return subcode(42);
			case 152: return subcode(43);
			case 153: return subcode(44);
		}

		return subcode::invalid;
	}

	subcode operations::conv(type_idx lhs, type_idx rhs)
	{
		const index_t lookup = ((index_t)lhs << 4) | ((index_t)rhs);
		switch (lookup)
		{
			case 0: return subcode(0);
			case 1: return subcode(1);
			case 2: return subcode(2);
			case 3: return subcode(3);
			case 4: return subcode(4);
			case 5: return subcode(5);
			case 6: return subcode(6);
			case 7: return subcode(7);
			case 8: return subcode(8);
			case 9: return subcode(9);
			case 16: return subcode(10);
			case 17: return subcode(11);
			case 18: return subcode(12);
			case 19: return subcode(13);
			case 20: return subcode(14);
			case 21: return subcode(15);
			case 22: return subcode(16);
			case 23: return subcode(17);
			case 24: return subcode(18);
			case 25: return subcode(19);
			case 32: return subcode(20);
			case 33: return subcode(21);
			case 34: return subcode(22);
			case 35: return subcode(23);
			case 36: return subcode(24);
			case 37: return subcode(25);
			case 38: return subcode(26);
			case 39: return subcode(27);
			case 40: return subcode(28);
			case 41: return subcode(29);
			case 48: return subcode(30);
			case 49: return subcode(31);
			case 50: return subcode(32);
			case 51: return subcode(33);
			case 52: return subcode(34);
			case 53: return subcode(35);
			case 54: return subcode(36);
			case 55: return subcode(37);
			case 56: return subcode(38);
			case 57: return subcode(39);
			case 64: return subcode(40);
			case 65: return subcode(41);
			case 66: return subcode(42);
			case 67: return subcode(43);
			case 68: return subcode(44);
			case 69: return subcode(45);
			case 70: return subcode(46);
			case 71: return subcode(47);
			case 72: return subcode(48);
			case 73: return subcode(49);
			case 80: return subcode(50);
			case 81: return subcode(51);
			case 82: return subcode(52);
			case 83: return subcode(53);
			case 84: return subcode(54);
			case 85: return subcode(55);
			case 86: return subcode(56);
			case 87: return subcode(57);
			case 88: return subcode(58);
			case 89: return subcode(59);
			case 96: return subcode(60);
			case 97: return subcode(61);
			case 98: return subcode(62);
			case 99: return subcode(63);
			case 100: return subcode(64);
			case 101: return subcode(65);
			case 102: return subcode(66);
			case 103: return subcode(67);
			case 104: return subcode(68);
			case 105: return subcode(69);
			case 112: return subcode(70);
			case 113: return subcode(71);
			case 114: return subcode(72);
			case 115: return subcode(73);
			case 116: return subcode(74);
			case 117: return subcode(75);
			case 118: return subcode(76);
			case 119: return subcode(77);
			case 120: return subcode(78);
			case 121: return subcode(79);
			case 128: return subcode(80);
			case 129: return subcode(81);
			case 130: return subcode(82);
			case 131: return subcode(83);
			case 132: return subcode(84);
			case 133: return subcode(85);
			case 134: return subcode(86);
			case 135: return subcode(87);
			case 136: return subcode(88);
			case 137: return subcode(89);
			case 144: return subcode(90);
			case 145: return subcode(91);
			case 146: return subcode(92);
			case 147: return subcode(93);
			case 148: return subcode(94);
			case 149: return subcode(95);
			case 150: return subcode(96);
			case 151: return subcode(97);
			case 152: return subcode(98);
			case 153: return subcode(99);
		}

		return subcode::invalid;
	}

	subcode operations::ari(opcode op, type_idx lhs, type_idx rhs)
	{
		op = opcode(op - opcode::ari_not);
		const index_t lookup = ((index_t)lhs << 8) | ((index_t)rhs << 4) | ((index_t)op);
		switch (lookup)
		{
			case 0: return subcode(0);
			case 272: return subcode(1);
			case 544: return subcode(2);
			case 816: return subcode(3);
			case 1088: return subcode(4);
			case 1360: return subcode(5);
			case 1632: return subcode(6);
			case 1904: return subcode(7);
			case 1: return subcode(0);
			case 545: return subcode(1);
			case 1089: return subcode(2);
			case 1633: return subcode(3);
			case 2177: return subcode(4);
			case 2449: return subcode(5);
			case 2: return subcode(0);
			case 274: return subcode(1);
			case 514: return subcode(2);
			case 530: return subcode(3);
			case 546: return subcode(4);
			case 786: return subcode(5);
			case 818: return subcode(6);
			case 1026: return subcode(7);
			case 1042: return subcode(8);
			case 1058: return subcode(9);
			case 1074: return subcode(10);
			case 1090: return subcode(11);
			case 1298: return subcode(12);
			case 1330: return subcode(13);
			case 1362: return subcode(14);
			case 1538: return subcode(15);
			case 1554: return subcode(16);
			case 1570: return subcode(17);
			case 1586: return subcode(18);
			case 1602: return subcode(19);
			case 1618: return subcode(20);
			case 1634: return subcode(21);
			case 1810: return subcode(22);
			case 1842: return subcode(23);
			case 1874: return subcode(24);
			case 1906: return subcode(25);
			case 2050: return subcode(26);
			case 2066: return subcode(27);
			case 2082: return subcode(28);
			case 2098: return subcode(29);
			case 2114: return subcode(30);
			case 2130: return subcode(31);
			case 2146: return subcode(32);
			case 2162: return subcode(33);
			case 2178: return subcode(34);
			case 2306: return subcode(35);
			case 2322: return subcode(36);
			case 2338: return subcode(37);
			case 2354: return subcode(38);
			case 2370: return subcode(39);
			case 2386: return subcode(40);
			case 2402: return subcode(41);
			case 2418: return subcode(42);
			case 2434: return subcode(43);
			case 2450: return subcode(44);
			case 3: return subcode(0);
			case 275: return subcode(1);
			case 515: return subcode(2);
			case 531: return subcode(3);
			case 547: return subcode(4);
			case 787: return subcode(5);
			case 819: return subcode(6);
			case 1027: return subcode(7);
			case 1043: return subcode(8);
			case 1059: return subcode(9);
			case 1075: return subcode(10);
			case 1091: return subcode(11);
			case 1299: return subcode(12);
			case 1331: return subcode(13);
			case 1363: return subcode(14);
			case 1539: return subcode(15);
			case 1555: return subcode(16);
			case 1571: return subcode(17);
			case 1587: return subcode(18);
			case 1603: return subcode(19);
			case 1619: return subcode(20);
			case 1635: return subcode(21);
			case 1811: return subcode(22);
			case 1843: return subcode(23);
			case 1875: return subcode(24);
			case 1907: return subcode(25);
			case 2051: return subcode(26);
			case 2067: return subcode(27);
			case 2083: return subcode(28);
			case 2099: return subcode(29);
			case 2115: return subcode(30);
			case 2131: return subcode(31);
			case 2147: return subcode(32);
			case 2163: return subcode(33);
			case 2179: return subcode(34);
			case 2307: return subcode(35);
			case 2323: return subcode(36);
			case 2339: return subcode(37);
			case 2355: return subcode(38);
			case 2371: return subcode(39);
			case 2387: return subcode(40);
			case 2403: return subcode(41);
			case 2419: return subcode(42);
			case 2435: return subcode(43);
			case 2451: return subcode(44);
			case 4: return subcode(0);
			case 276: return subcode(1);
			case 516: return subcode(2);
			case 532: return subcode(3);
			case 548: return subcode(4);
			case 788: return subcode(5);
			case 820: return subcode(6);
			case 1028: return subcode(7);
			case 1044: return subcode(8);
			case 1060: return subcode(9);
			case 1076: return subcode(10);
			case 1092: return subcode(11);
			case 1300: return subcode(12);
			case 1332: return subcode(13);
			case 1364: return subcode(14);
			case 1540: return subcode(15);
			case 1556: return subcode(16);
			case 1572: return subcode(17);
			case 1588: return subcode(18);
			case 1604: return subcode(19);
			case 1620: return subcode(20);
			case 1636: return subcode(21);
			case 1812: return subcode(22);
			case 1844: return subcode(23);
			case 1876: return subcode(24);
			case 1908: return subcode(25);
			case 2052: return subcode(26);
			case 2068: return subcode(27);
			case 2084: return subcode(28);
			case 2100: return subcode(29);
			case 2116: return subcode(30);
			case 2132: return subcode(31);
			case 2148: return subcode(32);
			case 2164: return subcode(33);
			case 2180: return subcode(34);
			case 2308: return subcode(35);
			case 2324: return subcode(36);
			case 2340: return subcode(37);
			case 2356: return subcode(38);
			case 2372: return subcode(39);
			case 2388: return subcode(40);
			case 2404: return subcode(41);
			case 2420: return subcode(42);
			case 2436: return subcode(43);
			case 2452: return subcode(44);
			case 5: return subcode(0);
			case 277: return subcode(1);
			case 517: return subcode(2);
			case 533: return subcode(3);
			case 549: return subcode(4);
			case 789: return subcode(5);
			case 821: return subcode(6);
			case 1029: return subcode(7);
			case 1045: return subcode(8);
			case 1061: return subcode(9);
			case 1077: return subcode(10);
			case 1093: return subcode(11);
			case 1301: return subcode(12);
			case 1333: return subcode(13);
			case 1365: return subcode(14);
			case 1541: return subcode(15);
			case 1557: return subcode(16);
			case 1573: return subcode(17);
			case 1589: return subcode(18);
			case 1605: return subcode(19);
			case 1621: return subcode(20);
			case 1637: return subcode(21);
			case 1813: return subcode(22);
			case 1845: return subcode(23);
			case 1877: return subcode(24);
			case 1909: return subcode(25);
			case 2053: return subcode(26);
			case 2069: return subcode(27);
			case 2085: return subcode(28);
			case 2101: return subcode(29);
			case 2117: return subcode(30);
			case 2133: return subcode(31);
			case 2149: return subcode(32);
			case 2165: return subcode(33);
			case 2181: return subcode(34);
			case 2309: return subcode(35);
			case 2325: return subcode(36);
			case 2341: return subcode(37);
			case 2357: return subcode(38);
			case 2373: return subcode(39);
			case 2389: return subcode(40);
			case 2405: return subcode(41);
			case 2421: return subcode(42);
			case 2437: return subcode(43);
			case 2453: return subcode(44);
			case 6: return subcode(0);
			case 278: return subcode(1);
			case 518: return subcode(2);
			case 534: return subcode(3);
			case 550: return subcode(4);
			case 790: return subcode(5);
			case 822: return subcode(6);
			case 1030: return subcode(7);
			case 1046: return subcode(8);
			case 1062: return subcode(9);
			case 1078: return subcode(10);
			case 1094: return subcode(11);
			case 1302: return subcode(12);
			case 1334: return subcode(13);
			case 1366: return subcode(14);
			case 1542: return subcode(15);
			case 1558: return subcode(16);
			case 1574: return subcode(17);
			case 1590: return subcode(18);
			case 1606: return subcode(19);
			case 1622: return subcode(20);
			case 1638: return subcode(21);
			case 1814: return subcode(22);
			case 1846: return subcode(23);
			case 1878: return subcode(24);
			case 1910: return subcode(25);
			case 2054: return subcode(26);
			case 2070: return subcode(27);
			case 2086: return subcode(28);
			case 2102: return subcode(29);
			case 2118: return subcode(30);
			case 2134: return subcode(31);
			case 2150: return subcode(32);
			case 2166: return subcode(33);
			case 2182: return subcode(34);
			case 2310: return subcode(35);
			case 2326: return subcode(36);
			case 2342: return subcode(37);
			case 2358: return subcode(38);
			case 2374: return subcode(39);
			case 2390: return subcode(40);
			case 2406: return subcode(41);
			case 2422: return subcode(42);
			case 2438: return subcode(43);
			case 2454: return subcode(44);
			case 7: return subcode(0);
			case 279: return subcode(1);
			case 519: return subcode(2);
			case 535: return subcode(3);
			case 551: return subcode(4);
			case 791: return subcode(5);
			case 823: return subcode(6);
			case 1031: return subcode(7);
			case 1047: return subcode(8);
			case 1063: return subcode(9);
			case 1079: return subcode(10);
			case 1095: return subcode(11);
			case 1303: return subcode(12);
			case 1335: return subcode(13);
			case 1367: return subcode(14);
			case 1543: return subcode(15);
			case 1559: return subcode(16);
			case 1575: return subcode(17);
			case 1591: return subcode(18);
			case 1607: return subcode(19);
			case 1623: return subcode(20);
			case 1639: return subcode(21);
			case 1815: return subcode(22);
			case 1847: return subcode(23);
			case 1879: return subcode(24);
			case 1911: return subcode(25);
			case 8: return subcode(0);
			case 280: return subcode(1);
			case 520: return subcode(2);
			case 536: return subcode(3);
			case 552: return subcode(4);
			case 792: return subcode(5);
			case 824: return subcode(6);
			case 1032: return subcode(7);
			case 1048: return subcode(8);
			case 1064: return subcode(9);
			case 1080: return subcode(10);
			case 1096: return subcode(11);
			case 1304: return subcode(12);
			case 1336: return subcode(13);
			case 1368: return subcode(14);
			case 1544: return subcode(15);
			case 1560: return subcode(16);
			case 1576: return subcode(17);
			case 1592: return subcode(18);
			case 1608: return subcode(19);
			case 1624: return subcode(20);
			case 1640: return subcode(21);
			case 1816: return subcode(22);
			case 1848: return subcode(23);
			case 1880: return subcode(24);
			case 1912: return subcode(25);
			case 9: return subcode(0);
			case 281: return subcode(1);
			case 521: return subcode(2);
			case 537: return subcode(3);
			case 553: return subcode(4);
			case 793: return subcode(5);
			case 825: return subcode(6);
			case 1033: return subcode(7);
			case 1049: return subcode(8);
			case 1065: return subcode(9);
			case 1081: return subcode(10);
			case 1097: return subcode(11);
			case 1305: return subcode(12);
			case 1337: return subcode(13);
			case 1369: return subcode(14);
			case 1545: return subcode(15);
			case 1561: return subcode(16);
			case 1577: return subcode(17);
			case 1593: return subcode(18);
			case 1609: return subcode(19);
			case 1625: return subcode(20);
			case 1641: return subcode(21);
			case 1817: return subcode(22);
			case 1849: return subcode(23);
			case 1881: return subcode(24);
			case 1913: return subcode(25);
			case 10: return subcode(0);
			case 282: return subcode(1);
			case 522: return subcode(2);
			case 538: return subcode(3);
			case 554: return subcode(4);
			case 794: return subcode(5);
			case 826: return subcode(6);
			case 1034: return subcode(7);
			case 1050: return subcode(8);
			case 1066: return subcode(9);
			case 1082: return subcode(10);
			case 1098: return subcode(11);
			case 1306: return subcode(12);
			case 1338: return subcode(13);
			case 1370: return subcode(14);
			case 1546: return subcode(15);
			case 1562: return subcode(16);
			case 1578: return subcode(17);
			case 1594: return subcode(18);
			case 1610: return subcode(19);
			case 1626: return subcode(20);
			case 1642: return subcode(21);
			case 1818: return subcode(22);
			case 1850: return subcode(23);
			case 1882: return subcode(24);
			case 1914: return subcode(25);
			case 11: return subcode(0);
			case 283: return subcode(1);
			case 523: return subcode(2);
			case 539: return subcode(3);
			case 555: return subcode(4);
			case 795: return subcode(5);
			case 827: return subcode(6);
			case 1035: return subcode(7);
			case 1051: return subcode(8);
			case 1067: return subcode(9);
			case 1083: return subcode(10);
			case 1099: return subcode(11);
			case 1307: return subcode(12);
			case 1339: return subcode(13);
			case 1371: return subcode(14);
			case 1547: return subcode(15);
			case 1563: return subcode(16);
			case 1579: return subcode(17);
			case 1595: return subcode(18);
			case 1611: return subcode(19);
			case 1627: return subcode(20);
			case 1643: return subcode(21);
			case 1819: return subcode(22);
			case 1851: return subcode(23);
			case 1883: return subcode(24);
			case 1915: return subcode(25);
		}

		return subcode::invalid;
	}

	subcode operations::cmp(opcode op, type_idx lhs, type_idx rhs)
	{
		op = opcode(op - opcode::cmp);
		const index_t lookup = ((index_t)lhs << 8) | ((index_t)rhs << 4) | ((index_t)op);
		switch (lookup)
		{
			case 0: return subcode(0);
			case 16: return subcode(1);
			case 32: return subcode(2);
			case 48: return subcode(3);
			case 64: return subcode(4);
			case 80: return subcode(5);
			case 96: return subcode(6);
			case 128: return subcode(7);
			case 144: return subcode(8);
			case 256: return subcode(9);
			case 272: return subcode(10);
			case 288: return subcode(11);
			case 304: return subcode(12);
			case 320: return subcode(13);
			case 336: return subcode(14);
			case 352: return subcode(15);
			case 368: return subcode(16);
			case 384: return subcode(17);
			case 400: return subcode(18);
			case 512: return subcode(19);
			case 528: return subcode(20);
			case 544: return subcode(21);
			case 560: return subcode(22);
			case 576: return subcode(23);
			case 592: return subcode(24);
			case 608: return subcode(25);
			case 640: return subcode(26);
			case 656: return subcode(27);
			case 768: return subcode(28);
			case 784: return subcode(29);
			case 800: return subcode(30);
			case 816: return subcode(31);
			case 832: return subcode(32);
			case 848: return subcode(33);
			case 864: return subcode(34);
			case 880: return subcode(35);
			case 896: return subcode(36);
			case 912: return subcode(37);
			case 1024: return subcode(38);
			case 1040: return subcode(39);
			case 1056: return subcode(40);
			case 1072: return subcode(41);
			case 1088: return subcode(42);
			case 1104: return subcode(43);
			case 1120: return subcode(44);
			case 1152: return subcode(45);
			case 1168: return subcode(46);
			case 1280: return subcode(47);
			case 1296: return subcode(48);
			case 1312: return subcode(49);
			case 1328: return subcode(50);
			case 1344: return subcode(51);
			case 1360: return subcode(52);
			case 1376: return subcode(53);
			case 1392: return subcode(54);
			case 1408: return subcode(55);
			case 1424: return subcode(56);
			case 1536: return subcode(57);
			case 1552: return subcode(58);
			case 1568: return subcode(59);
			case 1584: return subcode(60);
			case 1600: return subcode(61);
			case 1616: return subcode(62);
			case 1632: return subcode(63);
			case 1664: return subcode(64);
			case 1680: return subcode(65);
			case 1808: return subcode(66);
			case 1840: return subcode(67);
			case 1872: return subcode(68);
			case 1904: return subcode(69);
			case 1920: return subcode(70);
			case 1936: return subcode(71);
			case 2048: return subcode(72);
			case 2064: return subcode(73);
			case 2080: return subcode(74);
			case 2096: return subcode(75);
			case 2112: return subcode(76);
			case 2128: return subcode(77);
			case 2144: return subcode(78);
			case 2160: return subcode(79);
			case 2176: return subcode(80);
			case 2192: return subcode(81);
			case 2304: return subcode(82);
			case 2320: return subcode(83);
			case 2336: return subcode(84);
			case 2352: return subcode(85);
			case 2368: return subcode(86);
			case 2384: return subcode(87);
			case 2400: return subcode(88);
			case 2416: return subcode(89);
			case 2432: return subcode(90);
			case 2448: return subcode(91);
			case 1: return subcode(0);
			case 17: return subcode(1);
			case 33: return subcode(2);
			case 49: return subcode(3);
			case 65: return subcode(4);
			case 81: return subcode(5);
			case 97: return subcode(6);
			case 129: return subcode(7);
			case 145: return subcode(8);
			case 257: return subcode(9);
			case 273: return subcode(10);
			case 289: return subcode(11);
			case 305: return subcode(12);
			case 321: return subcode(13);
			case 337: return subcode(14);
			case 353: return subcode(15);
			case 369: return subcode(16);
			case 385: return subcode(17);
			case 401: return subcode(18);
			case 513: return subcode(19);
			case 529: return subcode(20);
			case 545: return subcode(21);
			case 561: return subcode(22);
			case 577: return subcode(23);
			case 593: return subcode(24);
			case 609: return subcode(25);
			case 641: return subcode(26);
			case 657: return subcode(27);
			case 769: return subcode(28);
			case 785: return subcode(29);
			case 801: return subcode(30);
			case 817: return subcode(31);
			case 833: return subcode(32);
			case 849: return subcode(33);
			case 865: return subcode(34);
			case 881: return subcode(35);
			case 897: return subcode(36);
			case 913: return subcode(37);
			case 1025: return subcode(38);
			case 1041: return subcode(39);
			case 1057: return subcode(40);
			case 1073: return subcode(41);
			case 1089: return subcode(42);
			case 1105: return subcode(43);
			case 1121: return subcode(44);
			case 1153: return subcode(45);
			case 1169: return subcode(46);
			case 1281: return subcode(47);
			case 1297: return subcode(48);
			case 1313: return subcode(49);
			case 1329: return subcode(50);
			case 1345: return subcode(51);
			case 1361: return subcode(52);
			case 1377: return subcode(53);
			case 1393: return subcode(54);
			case 1409: return subcode(55);
			case 1425: return subcode(56);
			case 1537: return subcode(57);
			case 1553: return subcode(58);
			case 1569: return subcode(59);
			case 1585: return subcode(60);
			case 1601: return subcode(61);
			case 1617: return subcode(62);
			case 1633: return subcode(63);
			case 1665: return subcode(64);
			case 1681: return subcode(65);
			case 1809: return subcode(66);
			case 1841: return subcode(67);
			case 1873: return subcode(68);
			case 1905: return subcode(69);
			case 1921: return subcode(70);
			case 1937: return subcode(71);
			case 2049: return subcode(72);
			case 2065: return subcode(73);
			case 2081: return subcode(74);
			case 2097: return subcode(75);
			case 2113: return subcode(76);
			case 2129: return subcode(77);
			case 2145: return subcode(78);
			case 2161: return subcode(79);
			case 2177: return subcode(80);
			case 2193: return subcode(81);
			case 2305: return subcode(82);
			case 2321: return subcode(83);
			case 2337: return subcode(84);
			case 2353: return subcode(85);
			case 2369: return subcode(86);
			case 2385: return subcode(87);
			case 2401: return subcode(88);
			case 2417: return subcode(89);
			case 2433: return subcode(90);
			case 2449: return subcode(91);
			case 2: return subcode(0);
			case 18: return subcode(1);
			case 34: return subcode(2);
			case 50: return subcode(3);
			case 66: return subcode(4);
			case 82: return subcode(5);
			case 98: return subcode(6);
			case 130: return subcode(7);
			case 146: return subcode(8);
			case 258: return subcode(9);
			case 274: return subcode(10);
			case 290: return subcode(11);
			case 306: return subcode(12);
			case 322: return subcode(13);
			case 338: return subcode(14);
			case 354: return subcode(15);
			case 370: return subcode(16);
			case 386: return subcode(17);
			case 402: return subcode(18);
			case 514: return subcode(19);
			case 530: return subcode(20);
			case 546: return subcode(21);
			case 562: return subcode(22);
			case 578: return subcode(23);
			case 594: return subcode(24);
			case 610: return subcode(25);
			case 642: return subcode(26);
			case 658: return subcode(27);
			case 770: return subcode(28);
			case 786: return subcode(29);
			case 802: return subcode(30);
			case 818: return subcode(31);
			case 834: return subcode(32);
			case 850: return subcode(33);
			case 866: return subcode(34);
			case 882: return subcode(35);
			case 898: return subcode(36);
			case 914: return subcode(37);
			case 1026: return subcode(38);
			case 1042: return subcode(39);
			case 1058: return subcode(40);
			case 1074: return subcode(41);
			case 1090: return subcode(42);
			case 1106: return subcode(43);
			case 1122: return subcode(44);
			case 1154: return subcode(45);
			case 1170: return subcode(46);
			case 1282: return subcode(47);
			case 1298: return subcode(48);
			case 1314: return subcode(49);
			case 1330: return subcode(50);
			case 1346: return subcode(51);
			case 1362: return subcode(52);
			case 1378: return subcode(53);
			case 1394: return subcode(54);
			case 1410: return subcode(55);
			case 1426: return subcode(56);
			case 1538: return subcode(57);
			case 1554: return subcode(58);
			case 1570: return subcode(59);
			case 1586: return subcode(60);
			case 1602: return subcode(61);
			case 1618: return subcode(62);
			case 1634: return subcode(63);
			case 1666: return subcode(64);
			case 1682: return subcode(65);
			case 1810: return subcode(66);
			case 1842: return subcode(67);
			case 1874: return subcode(68);
			case 1906: return subcode(69);
			case 1922: return subcode(70);
			case 1938: return subcode(71);
			case 2050: return subcode(72);
			case 2066: return subcode(73);
			case 2082: return subcode(74);
			case 2098: return subcode(75);
			case 2114: return subcode(76);
			case 2130: return subcode(77);
			case 2146: return subcode(78);
			case 2162: return subcode(79);
			case 2178: return subcode(80);
			case 2194: return subcode(81);
			case 2306: return subcode(82);
			case 2322: return subcode(83);
			case 2338: return subcode(84);
			case 2354: return subcode(85);
			case 2370: return subcode(86);
			case 2386: return subcode(87);
			case 2402: return subcode(88);
			case 2418: return subcode(89);
			case 2434: return subcode(90);
			case 2450: return subcode(91);
			case 3: return subcode(0);
			case 19: return subcode(1);
			case 35: return subcode(2);
			case 51: return subcode(3);
			case 67: return subcode(4);
			case 83: return subcode(5);
			case 99: return subcode(6);
			case 131: return subcode(7);
			case 147: return subcode(8);
			case 259: return subcode(9);
			case 275: return subcode(10);
			case 291: return subcode(11);
			case 307: return subcode(12);
			case 323: return subcode(13);
			case 339: return subcode(14);
			case 355: return subcode(15);
			case 371: return subcode(16);
			case 387: return subcode(17);
			case 403: return subcode(18);
			case 515: return subcode(19);
			case 531: return subcode(20);
			case 547: return subcode(21);
			case 563: return subcode(22);
			case 579: return subcode(23);
			case 595: return subcode(24);
			case 611: return subcode(25);
			case 643: return subcode(26);
			case 659: return subcode(27);
			case 771: return subcode(28);
			case 787: return subcode(29);
			case 803: return subcode(30);
			case 819: return subcode(31);
			case 835: return subcode(32);
			case 851: return subcode(33);
			case 867: return subcode(34);
			case 883: return subcode(35);
			case 899: return subcode(36);
			case 915: return subcode(37);
			case 1027: return subcode(38);
			case 1043: return subcode(39);
			case 1059: return subcode(40);
			case 1075: return subcode(41);
			case 1091: return subcode(42);
			case 1107: return subcode(43);
			case 1123: return subcode(44);
			case 1155: return subcode(45);
			case 1171: return subcode(46);
			case 1283: return subcode(47);
			case 1299: return subcode(48);
			case 1315: return subcode(49);
			case 1331: return subcode(50);
			case 1347: return subcode(51);
			case 1363: return subcode(52);
			case 1379: return subcode(53);
			case 1395: return subcode(54);
			case 1411: return subcode(55);
			case 1427: return subcode(56);
			case 1539: return subcode(57);
			case 1555: return subcode(58);
			case 1571: return subcode(59);
			case 1587: return subcode(60);
			case 1603: return subcode(61);
			case 1619: return subcode(62);
			case 1635: return subcode(63);
			case 1667: return subcode(64);
			case 1683: return subcode(65);
			case 1811: return subcode(66);
			case 1843: return subcode(67);
			case 1875: return subcode(68);
			case 1907: return subcode(69);
			case 1923: return subcode(70);
			case 1939: return subcode(71);
			case 2051: return subcode(72);
			case 2067: return subcode(73);
			case 2083: return subcode(74);
			case 2099: return subcode(75);
			case 2115: return subcode(76);
			case 2131: return subcode(77);
			case 2147: return subcode(78);
			case 2163: return subcode(79);
			case 2179: return subcode(80);
			case 2195: return subcode(81);
			case 2307: return subcode(82);
			case 2323: return subcode(83);
			case 2339: return subcode(84);
			case 2355: return subcode(85);
			case 2371: return subcode(86);
			case 2387: return subcode(87);
			case 2403: return subcode(88);
			case 2419: return subcode(89);
			case 2435: return subcode(90);
			case 2451: return subcode(91);
			case 4: return subcode(0);
			case 20: return subcode(1);
			case 36: return subcode(2);
			case 52: return subcode(3);
			case 68: return subcode(4);
			case 84: return subcode(5);
			case 100: return subcode(6);
			case 132: return subcode(7);
			case 148: return subcode(8);
			case 260: return subcode(9);
			case 276: return subcode(10);
			case 292: return subcode(11);
			case 308: return subcode(12);
			case 324: return subcode(13);
			case 340: return subcode(14);
			case 356: return subcode(15);
			case 372: return subcode(16);
			case 388: return subcode(17);
			case 404: return subcode(18);
			case 516: return subcode(19);
			case 532: return subcode(20);
			case 548: return subcode(21);
			case 564: return subcode(22);
			case 580: return subcode(23);
			case 596: return subcode(24);
			case 612: return subcode(25);
			case 644: return subcode(26);
			case 660: return subcode(27);
			case 772: return subcode(28);
			case 788: return subcode(29);
			case 804: return subcode(30);
			case 820: return subcode(31);
			case 836: return subcode(32);
			case 852: return subcode(33);
			case 868: return subcode(34);
			case 884: return subcode(35);
			case 900: return subcode(36);
			case 916: return subcode(37);
			case 1028: return subcode(38);
			case 1044: return subcode(39);
			case 1060: return subcode(40);
			case 1076: return subcode(41);
			case 1092: return subcode(42);
			case 1108: return subcode(43);
			case 1124: return subcode(44);
			case 1156: return subcode(45);
			case 1172: return subcode(46);
			case 1284: return subcode(47);
			case 1300: return subcode(48);
			case 1316: return subcode(49);
			case 1332: return subcode(50);
			case 1348: return subcode(51);
			case 1364: return subcode(52);
			case 1380: return subcode(53);
			case 1396: return subcode(54);
			case 1412: return subcode(55);
			case 1428: return subcode(56);
			case 1540: return subcode(57);
			case 1556: return subcode(58);
			case 1572: return subcode(59);
			case 1588: return subcode(60);
			case 1604: return subcode(61);
			case 1620: return subcode(62);
			case 1636: return subcode(63);
			case 1668: return subcode(64);
			case 1684: return subcode(65);
			case 1812: return subcode(66);
			case 1844: return subcode(67);
			case 1876: return subcode(68);
			case 1908: return subcode(69);
			case 1924: return subcode(70);
			case 1940: return subcode(71);
			case 2052: return subcode(72);
			case 2068: return subcode(73);
			case 2084: return subcode(74);
			case 2100: return subcode(75);
			case 2116: return subcode(76);
			case 2132: return subcode(77);
			case 2148: return subcode(78);
			case 2164: return subcode(79);
			case 2180: return subcode(80);
			case 2196: return subcode(81);
			case 2308: return subcode(82);
			case 2324: return subcode(83);
			case 2340: return subcode(84);
			case 2356: return subcode(85);
			case 2372: return subcode(86);
			case 2388: return subcode(87);
			case 2404: return subcode(88);
			case 2420: return subcode(89);
			case 2436: return subcode(90);
			case 2452: return subcode(91);
			case 5: return subcode(0);
			case 21: return subcode(1);
			case 37: return subcode(2);
			case 53: return subcode(3);
			case 69: return subcode(4);
			case 85: return subcode(5);
			case 101: return subcode(6);
			case 133: return subcode(7);
			case 149: return subcode(8);
			case 261: return subcode(9);
			case 277: return subcode(10);
			case 293: return subcode(11);
			case 309: return subcode(12);
			case 325: return subcode(13);
			case 341: return subcode(14);
			case 357: return subcode(15);
			case 373: return subcode(16);
			case 389: return subcode(17);
			case 405: return subcode(18);
			case 517: return subcode(19);
			case 533: return subcode(20);
			case 549: return subcode(21);
			case 565: return subcode(22);
			case 581: return subcode(23);
			case 597: return subcode(24);
			case 613: return subcode(25);
			case 645: return subcode(26);
			case 661: return subcode(27);
			case 773: return subcode(28);
			case 789: return subcode(29);
			case 805: return subcode(30);
			case 821: return subcode(31);
			case 837: return subcode(32);
			case 853: return subcode(33);
			case 869: return subcode(34);
			case 885: return subcode(35);
			case 901: return subcode(36);
			case 917: return subcode(37);
			case 1029: return subcode(38);
			case 1045: return subcode(39);
			case 1061: return subcode(40);
			case 1077: return subcode(41);
			case 1093: return subcode(42);
			case 1109: return subcode(43);
			case 1125: return subcode(44);
			case 1157: return subcode(45);
			case 1173: return subcode(46);
			case 1285: return subcode(47);
			case 1301: return subcode(48);
			case 1317: return subcode(49);
			case 1333: return subcode(50);
			case 1349: return subcode(51);
			case 1365: return subcode(52);
			case 1381: return subcode(53);
			case 1397: return subcode(54);
			case 1413: return subcode(55);
			case 1429: return subcode(56);
			case 1541: return subcode(57);
			case 1557: return subcode(58);
			case 1573: return subcode(59);
			case 1589: return subcode(60);
			case 1605: return subcode(61);
			case 1621: return subcode(62);
			case 1637: return subcode(63);
			case 1669: return subcode(64);
			case 1685: return subcode(65);
			case 1813: return subcode(66);
			case 1845: return subcode(67);
			case 1877: return subcode(68);
			case 1909: return subcode(69);
			case 1925: return subcode(70);
			case 1941: return subcode(71);
			case 2053: return subcode(72);
			case 2069: return subcode(73);
			case 2085: return subcode(74);
			case 2101: return subcode(75);
			case 2117: return subcode(76);
			case 2133: return subcode(77);
			case 2149: return subcode(78);
			case 2165: return subcode(79);
			case 2181: return subcode(80);
			case 2197: return subcode(81);
			case 2309: return subcode(82);
			case 2325: return subcode(83);
			case 2341: return subcode(84);
			case 2357: return subcode(85);
			case 2373: return subcode(86);
			case 2389: return subcode(87);
			case 2405: return subcode(88);
			case 2421: return subcode(89);
			case 2437: return subcode(90);
			case 2453: return subcode(91);
			case 6: return subcode(0);
			case 22: return subcode(1);
			case 38: return subcode(2);
			case 54: return subcode(3);
			case 70: return subcode(4);
			case 86: return subcode(5);
			case 102: return subcode(6);
			case 134: return subcode(7);
			case 150: return subcode(8);
			case 262: return subcode(9);
			case 278: return subcode(10);
			case 294: return subcode(11);
			case 310: return subcode(12);
			case 326: return subcode(13);
			case 342: return subcode(14);
			case 358: return subcode(15);
			case 374: return subcode(16);
			case 390: return subcode(17);
			case 406: return subcode(18);
			case 518: return subcode(19);
			case 534: return subcode(20);
			case 550: return subcode(21);
			case 566: return subcode(22);
			case 582: return subcode(23);
			case 598: return subcode(24);
			case 614: return subcode(25);
			case 646: return subcode(26);
			case 662: return subcode(27);
			case 774: return subcode(28);
			case 790: return subcode(29);
			case 806: return subcode(30);
			case 822: return subcode(31);
			case 838: return subcode(32);
			case 854: return subcode(33);
			case 870: return subcode(34);
			case 886: return subcode(35);
			case 902: return subcode(36);
			case 918: return subcode(37);
			case 1030: return subcode(38);
			case 1046: return subcode(39);
			case 1062: return subcode(40);
			case 1078: return subcode(41);
			case 1094: return subcode(42);
			case 1110: return subcode(43);
			case 1126: return subcode(44);
			case 1158: return subcode(45);
			case 1174: return subcode(46);
			case 1286: return subcode(47);
			case 1302: return subcode(48);
			case 1318: return subcode(49);
			case 1334: return subcode(50);
			case 1350: return subcode(51);
			case 1366: return subcode(52);
			case 1382: return subcode(53);
			case 1398: return subcode(54);
			case 1414: return subcode(55);
			case 1430: return subcode(56);
			case 1542: return subcode(57);
			case 1558: return subcode(58);
			case 1574: return subcode(59);
			case 1590: return subcode(60);
			case 1606: return subcode(61);
			case 1622: return subcode(62);
			case 1638: return subcode(63);
			case 1670: return subcode(64);
			case 1686: return subcode(65);
			case 1814: return subcode(66);
			case 1846: return subcode(67);
			case 1878: return subcode(68);
			case 1910: return subcode(69);
			case 1926: return subcode(70);
			case 1942: return subcode(71);
			case 2054: return subcode(72);
			case 2070: return subcode(73);
			case 2086: return subcode(74);
			case 2102: return subcode(75);
			case 2118: return subcode(76);
			case 2134: return subcode(77);
			case 2150: return subcode(78);
			case 2166: return subcode(79);
			case 2182: return subcode(80);
			case 2198: return subcode(81);
			case 2310: return subcode(82);
			case 2326: return subcode(83);
			case 2342: return subcode(84);
			case 2358: return subcode(85);
			case 2374: return subcode(86);
			case 2390: return subcode(87);
			case 2406: return subcode(88);
			case 2422: return subcode(89);
			case 2438: return subcode(90);
			case 2454: return subcode(91);
			case 7: return subcode(0);
			case 279: return subcode(1);
			case 551: return subcode(2);
			case 823: return subcode(3);
			case 1095: return subcode(4);
			case 1367: return subcode(5);
			case 1639: return subcode(6);
			case 1911: return subcode(7);
			case 2183: return subcode(8);
			case 2455: return subcode(9);
			case 8: return subcode(0);
			case 280: return subcode(1);
			case 552: return subcode(2);
			case 824: return subcode(3);
			case 1096: return subcode(4);
			case 1368: return subcode(5);
			case 1640: return subcode(6);
			case 1912: return subcode(7);
			case 2184: return subcode(8);
			case 2456: return subcode(9);
		}

		return subcode::invalid;
	}

	subcode operations::ptr(opcode op, type_idx lhs, type_idx rhs)
	{
		op = opcode(op - opcode::padd);
		const index_t lookup = ((index_t)op << 4) | ((index_t)rhs);
		switch (lookup)
		{
			case 0: return subcode(0);
			case 1: return subcode(1);
			case 2: return subcode(2);
			case 3: return subcode(3);
			case 4: return subcode(4);
			case 5: return subcode(5);
			case 6: return subcode(6);
			case 7: return subcode(7);
			case 16: return subcode(0);
			case 17: return subcode(1);
			case 18: return subcode(2);
			case 19: return subcode(3);
			case 20: return subcode(4);
			case 21: return subcode(5);
			case 22: return subcode(6);
			case 23: return subcode(7);
		}

		return subcode::invalid;
	}

	void operations::conv(pointer_t lhs_addr, type_idx lhs_type, const_pointer_t rhs_addr, type_idx rhs_type)
	{
		const index_t lookup = ((index_t)lhs_type << 4) | ((index_t)rhs_type);
		switch (lookup)
		{
			case 0: write<int8_t>(lhs_addr) = read<int8_t>(rhs_addr); return;
			case 1: write<int8_t>(lhs_addr) = (int8_t)read<uint8_t>(rhs_addr); return;
			case 2: write<int8_t>(lhs_addr) = (int8_t)read<int16_t>(rhs_addr); return;
			case 3: write<int8_t>(lhs_addr) = (int8_t)read<uint16_t>(rhs_addr); return;
			case 4: write<int8_t>(lhs_addr) = (int8_t)read<int32_t>(rhs_addr); return;
			case 5: write<int8_t>(lhs_addr) = (int8_t)read<uint32_t>(rhs_addr); return;
			case 6: write<int8_t>(lhs_addr) = (int8_t)read<int64_t>(rhs_addr); return;
			case 7: write<int8_t>(lhs_addr) = (int8_t)read<uint64_t>(rhs_addr); return;
			case 8: write<int8_t>(lhs_addr) = (int8_t)read<float>(rhs_addr); return;
			case 9: write<int8_t>(lhs_addr) = (int8_t)read<double>(rhs_addr); return;

			case 16: write<uint8_t>(lhs_addr) = (uint8_t)read<int8_t>(rhs_addr); return;
			case 17: write<uint8_t>(lhs_addr) = read<uint8_t>(rhs_addr); return;
			case 18: write<uint8_t>(lhs_addr) = (uint8_t)read<int16_t>(rhs_addr); return;
			case 19: write<uint8_t>(lhs_addr) = (uint8_t)read<uint16_t>(rhs_addr); return;
			case 20: write<uint8_t>(lhs_addr) = (uint8_t)read<int32_t>(rhs_addr); return;
			case 21: write<uint8_t>(lhs_addr) = (uint8_t)read<uint32_t>(rhs_addr); return;
			case 22: write<uint8_t>(lhs_addr) = (uint8_t)read<int64_t>(rhs_addr); return;
			case 23: write<uint8_t>(lhs_addr) = (uint8_t)read<uint64_t>(rhs_addr); return;
			case 24: write<uint8_t>(lhs_addr) = (uint8_t)read<float>(rhs_addr); return;
			case 25: write<uint8_t>(lhs_addr) = (uint8_t)read<double>(rhs_addr); return;

			case 32: write<int16_t>(lhs_addr) = (int16_t)read<int8_t>(rhs_addr); return;
			case 33: write<int16_t>(lhs_addr) = (int16_t)read<uint8_t>(rhs_addr); return;
			case 34: write<int16_t>(lhs_addr) = read<int16_t>(rhs_addr); return;
			case 35: write<int16_t>(lhs_addr) = (int16_t)read<uint16_t>(rhs_addr); return;
			case 36: write<int16_t>(lhs_addr) = (int16_t)read<int32_t>(rhs_addr); return;
			case 37: write<int16_t>(lhs_addr) = (int16_t)read<uint32_t>(rhs_addr); return;
			case 38: write<int16_t>(lhs_addr) = (int16_t)read<int64_t>(rhs_addr); return;
			case 39: write<int16_t>(lhs_addr) = (int16_t)read<uint64_t>(rhs_addr); return;
			case 40: write<int16_t>(lhs_addr) = (int16_t)read<float>(rhs_addr); return;
			case 41: write<int16_t>(lhs_addr) = (int16_t)read<double>(rhs_addr); return;

			case 48: write<uint16_t>(lhs_addr) = (uint16_t)read<int8_t>(rhs_addr); return;
			case 49: write<uint16_t>(lhs_addr) = (uint16_t)read<uint8_t>(rhs_addr); return;
			case 50: write<uint16_t>(lhs_addr) = (uint16_t)read<int16_t>(rhs_addr); return;
			case 51: write<uint16_t>(lhs_addr) = read<uint16_t>(rhs_addr); return;
			case 52: write<uint16_t>(lhs_addr) = (uint16_t)read<int32_t>(rhs_addr); return;
			case 53: write<uint16_t>(lhs_addr) = (uint16_t)read<uint32_t>(rhs_addr); return;
			case 54: write<uint16_t>(lhs_addr) = (uint16_t)read<int64_t>(rhs_addr); return;
			case 55: write<uint16_t>(lhs_addr) = (uint16_t)read<uint64_t>(rhs_addr); return;
			case 56: write<uint16_t>(lhs_addr) = (uint16_t)read<float>(rhs_addr); return;
			case 57: write<uint16_t>(lhs_addr) = (uint16_t)read<double>(rhs_addr); return;

			case 64: write<int32_t>(lhs_addr) = (int32_t)read<int8_t>(rhs_addr); return;
			case 65: write<int32_t>(lhs_addr) = (int32_t)read<uint8_t>(rhs_addr); return;
			case 66: write<int32_t>(lhs_addr) = (int32_t)read<int16_t>(rhs_addr); return;
			case 67: write<int32_t>(lhs_addr) = (int32_t)read<uint16_t>(rhs_addr); return;
			case 68: write<int32_t>(lhs_addr) = read<int32_t>(rhs_addr); return;
			case 69: write<int32_t>(lhs_addr) = (int32_t)read<uint32_t>(rhs_addr); return;
			case 70: write<int32_t>(lhs_addr) = (int32_t)read<int64_t>(rhs_addr); return;
			case 71: write<int32_t>(lhs_addr) = (int32_t)read<uint64_t>(rhs_addr); return;
			case 72: write<int32_t>(lhs_addr) = (int32_t)read<float>(rhs_addr); return;
			case 73: write<int32_t>(lhs_addr) = (int32_t)read<double>(rhs_addr); return;

			case 80: write<uint32_t>(lhs_addr) = (uint32_t)read<int8_t>(rhs_addr); return;
			case 81: write<uint32_t>(lhs_addr) = (uint32_t)read<uint8_t>(rhs_addr); return;
			case 82: write<uint32_t>(lhs_addr) = (uint32_t)read<int16_t>(rhs_addr); return;
			case 83: write<uint32_t>(lhs_addr) = (uint32_t)read<uint16_t>(rhs_addr); return;
			case 84: write<uint32_t>(lhs_addr) = (uint32_t)read<int32_t>(rhs_addr); return;
			case 85: write<uint32_t>(lhs_addr) = read<uint32_t>(rhs_addr); return;
			case 86: write<uint32_t>(lhs_addr) = (uint32_t)read<int64_t>(rhs_addr); return;
			case 87: write<uint32_t>(lhs_addr) = (uint32_t)read<uint64_t>(rhs_addr); return;
			case 88: write<uint32_t>(lhs_addr) = (uint32_t)read<float>(rhs_addr); return;
			case 89: write<uint32_t>(lhs_addr) = (uint32_t)read<double>(rhs_addr); return;

			case 96: write<int64_t>(lhs_addr) = (int64_t)read<int8_t>(rhs_addr); return;
			case 97: write<int64_t>(lhs_addr) = (int64_t)read<uint8_t>(rhs_addr); return;
			case 98: write<int64_t>(lhs_addr) = (int64_t)read<int16_t>(rhs_addr); return;
			case 99: write<int64_t>(lhs_addr) = (int64_t)read<uint16_t>(rhs_addr); return;
			case 100: write<int64_t>(lhs_addr) = (int64_t)read<int32_t>(rhs_addr); return;
			case 101: write<int64_t>(lhs_addr) = (int64_t)read<uint32_t>(rhs_addr); return;
			case 102: write<int64_t>(lhs_addr) = read<int64_t>(rhs_addr); return;
			case 103: write<int64_t>(lhs_addr) = (int64_t)read<uint64_t>(rhs_addr); return;
			case 104: write<int64_t>(lhs_addr) = (int64_t)read<float>(rhs_addr); return;
			case 105: write<int64_t>(lhs_addr) = (int64_t)read<double>(rhs_addr); return;

			case 112: write<uint64_t>(lhs_addr) = (uint64_t)read<int8_t>(rhs_addr); return;
			case 113: write<uint64_t>(lhs_addr) = (uint64_t)read<uint8_t>(rhs_addr); return;
			case 114: write<uint64_t>(lhs_addr) = (uint64_t)read<int16_t>(rhs_addr); return;
			case 115: write<uint64_t>(lhs_addr) = (uint64_t)read<uint16_t>(rhs_addr); return;
			case 116: write<uint64_t>(lhs_addr) = (uint64_t)read<int32_t>(rhs_addr); return;
			case 117: write<uint64_t>(lhs_addr) = (uint64_t)read<uint32_t>(rhs_addr); return;
			case 118: write<uint64_t>(lhs_addr) = (uint64_t)read<int64_t>(rhs_addr); return;
			case 119: write<uint64_t>(lhs_addr) = read<uint64_t>(rhs_addr); return;
			case 120: write<uint64_t>(lhs_addr) = (uint64_t)read<float>(rhs_addr); return;
			case 121: write<uint64_t>(lhs_addr) = (uint64_t)read<double>(rhs_addr); return;

			case 128: write<float>(lhs_addr) = (float)read<int8_t>(rhs_addr); return;
			case 129: write<float>(lhs_addr) = (float)read<uint8_t>(rhs_addr); return;
			case 130: write<float>(lhs_addr) = (float)read<int16_t>(rhs_addr); return;
			case 131: write<float>(lhs_addr) = (float)read<uint16_t>(rhs_addr); return;
			case 132: write<float>(lhs_addr) = (float)read<int32_t>(rhs_addr); return;
			case 133: write<float>(lhs_addr) = (float)read<uint32_t>(rhs_addr); return;
			case 134: write<float>(lhs_addr) = (float)read<int64_t>(rhs_addr); return;
			case 135: write<float>(lhs_addr) = (float)read<uint64_t>(rhs_addr); return;
			case 136: write<float>(lhs_addr) = read<float>(rhs_addr); return;
			case 137: write<float>(lhs_addr) = (float)read<double>(rhs_addr); return;

			case 144: write<double>(lhs_addr) = (double)read<int8_t>(rhs_addr); return;
			case 145: write<double>(lhs_addr) = (double)read<uint8_t>(rhs_addr); return;
			case 146: write<double>(lhs_addr) = (double)read<int16_t>(rhs_addr); return;
			case 147: write<double>(lhs_addr) = (double)read<uint16_t>(rhs_addr); return;
			case 148: write<double>(lhs_addr) = (double)read<int32_t>(rhs_addr); return;
			case 149: write<double>(lhs_addr) = (double)read<uint32_t>(rhs_addr); return;
			case 150: write<double>(lhs_addr) = (double)read<int64_t>(rhs_addr); return;
			case 151: write<double>(lhs_addr) = (double)read<uint64_t>(rhs_addr); return;
			case 152: write<double>(lhs_addr) = (double)read<float>(rhs_addr); return;
			case 153: write<double>(lhs_addr) = read<double>(rhs_addr); return;

			default: ASSERT(false, "Malformed conv subcode"); return;
		}
	}
}